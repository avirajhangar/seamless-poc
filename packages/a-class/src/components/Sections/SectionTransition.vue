<template>
  <section class="section section--mask">
    <div :id="`${section}-stars`" class="section__content">
      <svg class="svg-mask" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <clipPath :id="`${section}-stars-clip`">
            <path
              fill="black"
              id="mbstar"
              class="mbstar"
              d="M4.5,35c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6L-7.7,28l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7C3.9,35.1,4.3,35,4.5,35z"
            />
          </clipPath>
        </defs>
        <g class="stars">
          <g>
            <g id="Layer_1-2_5_">
              <path
                id="Star_131_"
                class="st0"
                d="M-63.6,20.9c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-64.2,21-63.8,20.9-63.6,20.9z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_6_">
              <path
                id="Star_133_"
                class="st0"
                d="M-149.5,20.8c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-150.1,20.9-149.7,20.8-149.5,20.8z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_7_">
              <path
                id="Star_135_"
                class="st0"
                d="M-235.3,20.7c0-0.2-0.1-0.5-0.2-0.7l-8-6.3L-245,3.6c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-235.9,20.8-235.5,20.7-235.3,20.7z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_3_">
              <path
                id="Star_128_"
                class="st0"
                d="M-20.7-53.5c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-21.3-53.4-20.9-53.5-20.7-53.5z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_1_">
              <path
                id="Star_124_"
                class="st0"
                d="M-107.2-53.5c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-107.8-53.4-107.4-53.5-107.2-53.5z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_8_">
              <path
                id="Star_137_"
                class="st0"
                d="M-193.6-53.5c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-194.2-53.4-193.8-53.5-193.6-53.5z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_9_">
              <path
                id="Star_139_"
                class="st0"
                d="M-280.1-53.5c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-280.7-53.4-280.3-53.5-280.1-53.5z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_2_">
              <path
                id="Star_126_"
                class="st0"
                d="M-235.5-128c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-236.1-127.9-235.7-128-235.5-128z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_4_">
              <path
                id="Star_130_"
                class="st0"
                d="M-149.6-128.4c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-150.2-128.3-149.8-128.4-149.6-128.4z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_10_">
              <path
                id="Star_141_"
                class="st0"
                d="M-63.7-128.8c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-64.3-128.7-63.9-128.8-63.7-128.8z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_11_">
              <path
                id="Star_149_"
                class="st0"
                d="M22.2-129.2c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6L10-136.2l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C21.6-129.1,22-129.2,22.2-129.2z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_12_">
              <path
                id="Star_150_"
                class="st0"
                d="M108-129.5c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C107.4-129.4,107.8-129.5,108-129.5z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_13_">
              <path
                id="Star_151_"
                class="st0"
                d="M193.9-129.9c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C193.3-129.8,193.7-129.9,193.9-129.9z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_14_">
              <path
                id="Star_152_"
                class="st0"
                d="M279.8-130.3c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C279.2-130.2,279.6-130.3,279.8-130.3z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_19_">
              <path
                id="Star_157_"
                class="st0"
                d="M65.1-52.9c0-0.2-0.1-0.5-0.2-0.7l-8-6.3L55.4-70c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C64.5-52.8,64.9-52.9,65.1-52.9z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_18_">
              <path
                id="Star_156_"
                class="st0"
                d="M151-53.3c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C150.4-53.2,150.8-53.3,151-53.3z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_17_">
              <path
                id="Star_155_"
                class="st0"
                d="M236.8-53.7c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C236.2-53.6,236.6-53.7,236.8-53.7z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_16_">
              <path
                id="Star_154_"
                class="st0"
                d="M322.7-54.1c0-0.2-0.1-0.5-0.2-0.7l-8-6.3L313-71.2c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7L322-54
			C322.1-54,322.5-54.1,322.7-54.1z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_23_">
              <path
                id="Star_161_"
                class="st0"
                d="M108,23.3c0-0.2-0.1-0.5-0.2-0.7l-8-6.3L98.3,6.2c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C107.4,23.4,107.8,23.3,108,23.3z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_22_">
              <path
                id="Star_160_"
                class="st0"
                d="M193.9,22.9c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C193.3,23,193.7,22.9,193.9,22.9z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_21_">
              <path
                id="Star_159_"
                class="st0"
                d="M279.8,22.5c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C279.2,22.6,279.6,22.5,279.8,22.5z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_27_">
              <path
                id="Star_165_"
                class="st0"
                d="M151,99.6c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C150.4,99.7,150.8,99.6,151,99.6z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_26_">
              <path
                id="Star_164_"
                class="st0"
                d="M236.8,99.2c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C236.2,99.3,236.6,99.2,236.8,99.2z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_25_">
              <path
                id="Star_163_"
                class="st0"
                d="M322.7,98.8c0-0.2-0.1-0.5-0.2-0.7l-8-6.3L313,81.7c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C322.1,98.9,322.5,98.8,322.7,98.8z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_31_">
              <path
                id="Star_169_"
                class="st0"
                d="M193.9,175.8c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C193.3,175.9,193.7,175.8,193.9,175.8z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_33_">
              <path
                id="Star_171_"
                class="st0"
                d="M65.2,95.4c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6L53,88.4l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C64.6,95.5,65,95.4,65.2,95.4z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_32_">
              <path
                id="Star_170_"
                class="st0"
                d="M108.1,171.6c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C107.5,171.7,107.9,171.6,108.1,171.6z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_35_">
              <path
                id="Star_173_"
                class="st0"
                d="M-20.6,91.2c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-21.2,91.3-20.8,91.2-20.6,91.2z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_34_">
              <path
                id="Star_172_"
                class="st0"
                d="M22.4,167.4c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C21.8,167.5,22.2,167.4,22.4,167.4z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_37_">
              <path
                id="Star_175_"
                class="st0"
                d="M-106.3,87c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-106.9,87.1-106.5,87-106.3,87z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_36_">
              <path
                id="Star_174_"
                class="st0"
                d="M-63.4,163.2c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-64,163.3-63.6,163.2-63.4,163.2z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_39_">
              <path
                id="Star_177_"
                class="st0"
                d="M-192.1,82.8c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-192.7,82.9-192.3,82.8-192.1,82.8z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_38_">
              <path
                id="Star_176_"
                class="st0"
                d="M-149.1,159c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-149.7,159.1-149.3,159-149.1,159z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_41_">
              <path
                id="Star_179_"
                class="st0"
                d="M-277.8,78.6c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-278.4,78.7-278,78.6-277.8,78.6z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_40_">
              <path
                id="Star_178_"
                class="st0"
                d="M-234.9,154.8c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C-235.5,154.9-235.1,154.8-234.9,154.8z"
              />
            </g>
          </g>
          <g>
            <g id="Layer_1-2_30_">
              <path
                id="Star_168_"
                class="st0"
                d="M279.8,175.4c0-0.2-0.1-0.5-0.2-0.7l-8-6.3l-1.5-10.1c-0.1-0.2-0.4-0.4-0.5-0.6
			c-0.1,0.1-0.4,0.4-0.5,0.6l-1.5,10.1l-8,6.3c0,0.1-0.1,0.5-0.2,0.7c0.2,0,0.6,0.1,0.7,0.1l9.5-3.7l9.5,3.7
			C279.2,175.5,279.6,175.4,279.8,175.4z"
              />
            </g>
          </g>
        </g>
      </svg>
      <div
        class="slot"
        :id="`slot-${section}`"
        ref="theslot"
        :style="{ transform: `translateZ(${z}px)` }"
      >
        <slot />
      </div>
      <!---->
    </div>
  </section>
</template>

<script>
import { gsap } from 'gsap'

export default {
  name: 'ukscc-SectionTransition',
  props: {
    section: {
      type: String,
      required: true
    }
  },
  computed: {
    style() {
      return {
        '-webkit-transform:': `translateZ(${this.z}px);`,
        '-webkit-clip-path': `url(#${this.section}-stars-clip)`,
        'clip-path': `url(#${this.section}-stars-clip)`
      }
    }
  },
  data() {
    return {
      isActive: false,
      progress: 0,
      z: 0
    }
  },
  watch: {
    progress: function (val) {
      this.z++
      this.timeline.time(val)
    }
  },
  timeline: null,
  mounted() {
    this.$nextTick(() => {
      this.initialiseTimeline()
    })
  },
  methods: {
    initialiseTimeline() {
      this.timeline && this.timeline.kill()
      this.timeline = gsap.timeline({ paused: true })
      this.updateFrames()
      this.timeline = gsap
        .timeline({
          paused: true
        })
        .to(`#${this.section}-stars .mbstar, #${this.section}-stars .stars`, {
          ease: 'Power4.easeIn',
          scale: 800,
          y: -2600,
          onUpdate: () => {
            // Hack for safari to fix svg clip-path redraw issue.
            document.getElementById(`slot-${this.section}`).style.zIndex =
              this.z
            document.getElementById(
              `slot-${this.section}`
            ).style.transform = `translateZ(${this.z}px)`
          }
        })
      return this.timeline
    },
    updateFrames() {
      gsap.set(`#${this.section}-stars .mbstar`, {
        x: () => window.innerWidth / 2 + 3,
        y: () => window.innerHeight / 2 - 32,

        scale: 2.5,
        transformOrigin: '50% 50%'
      })
      gsap.set(`#${this.section}-stars .stars`, {
        x: () => window.innerWidth / 2 + 1,
        y: () => window.innerHeight / 2 - 22,
        scale: 2.5,
        transformOrigin: '50% 50%'
      })
    },
    onWindowResize() {
      this.initialiseTimeline()
      this.timeline.time(this.progress)
    }
  }
}
</script>

<style lang="scss" scoped>
.slot {
  height: 100vh;
  width: 100vw;
  display: inline-block;
  overflow: hidden;
  pointer-events: none;
  .interiorTour {
    position: absolute;
  }
}

#slot-interior {
  clip-path: url('#interior-stars-clip');
  -webkit-clip-path: url('#interior-stars-clip');
}

#slot-dark {
  clip-path: url('#dark-stars-clip');
  -webkit-clip-path: url('#dark-stars-clip');
}
.section--mask {
  height: 100vh;
  overflow: hidden;
  position: absolute;
  z-index: 33;
  top: 0;
  pointer-events: none;
}

.section__content {
  height: 100vh;
  width: 100vw;
  display: flex;
  align-items: center;
  flex-direction: column;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.svg-mask {
  height: 100vh;
  width: 100vw;
  position: absolute;
  z-index: 99;
}

.st0 {
  fill: white;
}
</style>
